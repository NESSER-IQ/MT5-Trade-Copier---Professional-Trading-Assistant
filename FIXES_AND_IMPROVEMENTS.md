# ุงูุฅุตูุงุญุงุช ูุงูุชุญุณููุงุช - Telegram MT5 Bot

## ๐ ููุฎุต ุงูุฅุตูุงุญุงุช

ุชู ุชูููุฐ ุฌููุน ุงูุฅุตูุงุญุงุช ูุงูููุฒุงุช ุงููุทููุจุฉ ุจูุฌุงุญ. ูุฐุง ุงูุชุญุฏูุซ ูุญู ุงููุดุงูู ุงูุญุฑุฌุฉ ููุถูู ููุฒุงุช ุฌุฏูุฏุฉ ูููุฉ.

---

## โ ุงูุฅุตูุงุญุงุช ุงูุฑุฆูุณูุฉ

### 1. ุฅุตูุงุญ ุงุณุชุฎุฑุงุฌ Take Profits (TP)

**ุงููุดููุฉ:**
- ูุงู ุงููุธุงู ููุชูุท ุงูุฑูู "100" ูู ุนุจุงุฑุงุช ูุซู "100% Sure Signal"
- ูุฐุง ุฃุฏู ูุฅุถุงูุฉ ุฃุฑูุงู ุฎุงุทุฆุฉ ูู ูุงุฆูุฉ ุฃูุฏุงู ุงูุฑุจุญ

**ุงูุญู:**
- ุฅุถุงูุฉ ุฏุงูุฉ `filter_valid_prices()` ูุชุตููุฉ ุงูุฃุณุนุงุฑ ุญุณุจ ููุน ุงูุฃุตู
- ุชุฌุงูู ุงูุฃุฑูุงู ุงูุตุบูุฑุฉ (โค 100) ูุชุฌูุจ ุงููุณุจ ุงููุฆููุฉ
- ุชุตููุฉ ุงูุณุทูุฑ ุงูุชู ุชุญุชูู ุนูู ูููุงุช ูุซู "SURE", "SIGNAL", "%"

**ุงูููุฏ:**
```python
def filter_valid_prices(self, numbers: List[float], symbol: str) -> List[float]:
    # ุชุตููุฉ ุงูุฃุณุนุงุฑ ุงูููุทููุฉ ุญุณุจ ุงูุฃุตู
    # ูุซูุงู: ุงูุฐูุจ ุจูู 1000-10000
    # ุงูุจูุชูููู ุจูู 1000-200000
    # ุงูููุฑูุณ ุจูู 0.5-2.0
```

---

### 2. ุฅุตูุงุญ ุงุณุชุฎุฑุงุฌ Stop Loss (SL)

**ุงููุดููุฉ:**
- ุฑุณุงุฆู ูุซู "โ SL. TP ::: 4299.00" ุชุณุจุจ ุงูุชุจุงุณ
- ูุงู ููุชูุท TP ุจุฏูุงู ูู SL ุฃุญูุงูุงู

**ุงูุญู:**
- ุงุณุชุฎุฏุงู regex ูุญุณูู ูุน word boundaries (`\b`)
- ุชุฌุงูู ุงูุณุทูุฑ ุงูุชู ุชุญุชูู ุนูู TP ููุท
- ุชุฌุงูู ุงูุณุทูุฑ ูุน ูุณุจ ูุฆููุฉ ุฃู ูููุงุช ุบูุฑ ูุชุนููุฉ

**ุงูููุฏ:**
```python
sl_patterns = [
    r'\bSL\b', r'\bSTOP\sLOSS\b', r'\bSTOP\b',
    r'\bS\.L\b', r'\bSTOPLOSS\b', r'\bSTOP-LOSS\b'
]
```

---

### 3. ุชุดุฏูุฏ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช

**ุงููุดููุฉ ุงููุฏููุฉ:**
```python
if not self.validate_signal_data(...):
    print("โ๏ธ ุงูุจูุงูุงุช ุบูุฑ ููุทููุฉ ูููู ุณูุชู ูุจูู ุงูุฅุดุงุฑุฉ")
    # โ ุฎุทูุฑ! ููุจู ุฅุดุงุฑุงุช ุฎุงุทุฆุฉ
```

**ุงูุญู ุงูุฌุฏูุฏ:**
```python
if not self.validate_signal_data(...):
    print("โ ุงูุจูุงูุงุช ุบูุฑ ููุทููุฉ - ุณูุชู ุฑูุถ ุงูุฅุดุงุฑุฉ")
    return None  # โ ุฑูุถ ุงูุฅุดุงุฑุฉ
```

**ุงูุชุญููุงุช ุงูุฅุถุงููุฉ:**
- ุฑูุถ ุงูุฅุดุงุฑุงุช ุจุฏูู TP
- ุฑูุถ ุงูุฅุดุงุฑุงุช ุจุฏูู SL
- ุฑูุถ ุงูุฅุดุงุฑุงุช ุจุฏูู ุณุนุฑ ุฏุฎูู
- ุงูุชุญูู ูู ููุทููุฉ ุงูุฃุณุนุงุฑ (TP > Entry > SL ููุดุฑุงุก)

---

### 4. ูุธุงู ุงูุชูุงุฑูุฑ ุงูููููุฉ ุงูุฌุฏูุฏ

**ุงูููุฒุฉ ุงูุฌุฏูุฏุฉ:** ุญูุธ ุชูุงุฑูุฑ ุดุงููุฉ ูู 24 ุณุงุนุฉ

**ููู:** `daily_report_manager.py`

**ุงูููุฒุงุช:**
- โ ุญูุธ ุฌููุน ุงูุฅุดุงุฑุงุช ุงููุณุชููุฉ ูุน ุชูุงุตูู ุงูููุงุฉ
- โ ุญูุธ ุฌููุน ุงูุตููุงุช ุงููููุฐุฉ ูุน ุงูุฃุฑุจุงุญ/ุงูุฎุณุงุฆุฑ
- โ ุฅุญุตุงุฆูุงุช ููุตูุฉ ููู ููุงุฉ
- โ ุชุตุฏูุฑ ุฅูู CSV ุชููุงุฆูุงู
- โ ุญุฐู ุงูุชูุงุฑูุฑ ุงููุฏููุฉ (ุฃูุฏู ูู 30 ููู) ุชููุงุฆูุงู

**ูููู ุงููููุงุช:**
```
data/
  daily_reports/
    signals/
      2025-10-16.json
      2025-10-17.json
    trades/
      2025-10-16.json
      2025-10-17.json
    summary/
      2025-10-16.json
      2025-10-17.json
```

**ูุซุงู ุนูู ูุญุชูู ุชูุฑูุฑ ุงูุฅุดุงุฑุงุช:**
```json
{
  "date": "2025-10-16",
  "total_signals": 15,
  "signals_by_channel": {
    "VIP GOLD SIGNALS": {
      "count": 5,
      "symbols": {
        "XAUUSD": 5
      }
    }
  },
  "signals": [...]
}
```

**ูุซุงู ุนูู ูุญุชูู ุชูุฑูุฑ ุงูุตููุงุช:**
```json
{
  "date": "2025-10-16",
  "total_trades": 10,
  "winning_trades": 7,
  "losing_trades": 3,
  "total_profit": 150.50,
  "total_loss": 45.20,
  "trades_by_channel": {
    "VIP GOLD SIGNALS": {
      "count": 5,
      "winning": 4,
      "losing": 1,
      "profit": 80.00,
      "loss": 15.00
    }
  },
  "trades": [...]
}
```

---

### 5. ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

**ูุจู:**
```python
if result['success']:
    print("โ ุชู ุชูููุฐ ุงูุตููุฉ")
else:
    print("โ ูุดู") # ููุท ุทุจุงุนุฉ!
```

**ุจุนุฏ:**
```python
if result['success']:
    print(f"โ ุชู ุชูููุฐ ุงูุตููุฉ - Ticket: {result.get('ticket')}")

    # ุญูุธ ูู ุงูุชูุฑูุฑ ุงููููู
    self.report_manager.save_trade(trade_data)

    # ุฅุดุนุงุฑ ูููุณุชุฎุฏู
    self.show_notification(
        "โ ุชูููุฐ ูุงุฌุญ",
        f"ุชู ูุชุญ ุตููุฉ {signal.action} ุนูู {signal.symbol}"
    )
else:
    error_msg = result.get('error')
    print(f"โ ูุดู ุงูุชูููุฐ: {error_msg}")

    # ุฅุดุนุงุฑ ุฎุทุฃ ูููุณุชุฎุฏู
    self.show_notification(
        "โ ูุดู ุงูุชูููุฐ",
        f"ุงูุฎุทุฃ: {error_msg}",
        is_error=True
    )
```

---

### 6. ุฅุตูุงุญ ูุดููุฉ ุนุฏู ุงุณุชุฌุงุจุฉ ุงููุงุฌูุฉ

**ุงููุดููุฉ:**
- ุงูุชุญุฏูุซุงุช ุงูุฏูุฑูุฉ ูุงูุช ุชุญุฌุจ ุงููุงุฌูุฉ
- ุงูุนูููุงุช ุงูุทูููุฉ ุชุฌูุฏ ุงูุจุฑูุงูุฌ

**ุงูุญู:**
- ุชูููุฐ ุงูุชุญุฏูุซุงุช ูู threads ูููุตูุฉ
- ุงุณุชุฎุฏุงู `root.after()` ููุชุญุฏูุซุงุช ุงูุขููุฉ
- ูุตู ุงูุนูููุงุช ุงูุทูููุฉ ุนู main thread

**ุงูููุฏ:**
```python
def schedule_updates(self):
    def update():
        # ุชูููุฐ ูู thread ูููุตู
        threading.Thread(
            target=self._update_balance_async,
            daemon=True
        ).start()

        # ุฌุฏููุฉ ุงูุชุญุฏูุซ ุงูุชุงูู
        self.root.after(5000, update)
```

---

### 7. ูุธุงู ุชุตููุฉ ุงูุฑุณุงุฆู ุบูุฑ ุงููููุฏุฉ

**ุงูููุฒุฉ ุงูุฌุฏูุฏุฉ:** ุชุฌุงูู ุงูุฑุณุงุฆู ุงูุชู ูุง ุชุญุชูู ุนูู ุฅุดุงุฑุงุช ุชุฏุงูู

**ุงูุฑุณุงุฆู ุงููุฑููุถุฉ:**
- โ ุฑุณุงุฆู ุงูุฃุฑุจุงุญ ุงููุญููุฉ ("TP reached", "ุชู ุชุญููู ุงููุฏู")
- โ ุฑุณุงุฆู ุงููุชุงุฆุฌ ุงูููููุฉ ("Today's profit: 100 pips")
- โ ุฑุณุงุฆู ุงูุชุฑููุฌ ("Join VIP", "Subscribe now")
- โ ุฑุณุงุฆู ุงูุชุญูููุงุช ("Market analysis", "ุชุญููู ุงูุณูู")
- โ ุฑุณุงุฆู ุงูุชููุฆุฉ ("Congratulations", "ูุจุฑูู")
- โ ุฑุณุงุฆู ูุงุฑุบุฉ ุฃู ุฑููุฒ ููุท

**ุงูููุฏ:**
```python
def is_useful_message(self, message_text: str) -> bool:
    # ูุญุต ุงูุฃููุงุท ุบูุฑ ุงููููุฏุฉ
    useless_patterns = [
        r'profit.*achieved',
        r'target.*hit',
        r'join.*vip',
        # ... ุงููุฒูุฏ
    ]

    # ูุฌุจ ุฃู ุชุญุชูู ุนูู:
    # 1. ุฑูุฒ ุงูุฃุตู (GOLD, BTC, EUR, ...)
    # 2. ููุน ุงูุตููุฉ (BUY, SELL)

    return has_required_keywords
```

---

## ๐ฏ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุชุดุบูู ุงูุจุฑูุงูุฌ

```bash
python main_gui.py
```

### 2. ุงูุชุญูู ูู ุงูุชูุงุฑูุฑ ุงูููููุฉ

ุงูุชูุงุฑูุฑ ุชูุญูุธ ุชููุงุฆูุงู ูู:
```
data/daily_reports/
```

### 3. ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ ูุฏููุงู

```python
from daily_report_manager import DailyReportManager

manager = DailyReportManager()

# ุชุตุฏูุฑ ุฅุดุงุฑุงุช ุงูููู ุฅูู CSV
csv_file = manager.export_to_csv('signals')
print(f"ุชู ุงูุชุตุฏูุฑ: {csv_file}")

# ุงูุญุตูู ุนูู ููุฎุต ุฃุณุจูุนู
weekly = manager.get_weekly_summary()
print(weekly)
```

### 4. ุฅูุดุงุก ุชูุฑูุฑ ูุฏูู

```python
# ุฅูุดุงุก ููุฎุต ุงูููู
summary = manager.generate_daily_summary()
print(json.dumps(summary, indent=2, ensure_ascii=False))
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ุงููุชููุฑุฉ

### ูู ุงูุชูุงุฑูุฑ ุงูููููุฉ:

**ุชูุฑูุฑ ุงูุฅุดุงุฑุงุช:**
- ุนุฏุฏ ุงูุฅุดุงุฑุงุช ุงูููู
- ุงูุฅุดุงุฑุงุช ููู ููุงุฉ
- ุงูุฑููุฒ ุงูุฃูุซุฑ ุชุฏุงููุงู

**ุชูุฑูุฑ ุงูุตููุงุช:**
- ุนุฏุฏ ุงูุตููุงุช ุงูููู
- ุงูุตููุงุช ุงูุฑุงุจุญุฉ vs ุงูุฎุงุณุฑุฉ
- ุฅุฌูุงูู ุงูุฃุฑุจุงุญ ูุงูุฎุณุงุฆุฑ
- ูุนุฏู ุงููุฌุงุญ (Win Rate)
- ุฃุฏุงุก ูู ููุงุฉ

**ุงูููุฎุต ุงูุดุงูู:**
- ูู ูุง ุณุจู + ุชุญููู ููุงุฑู
- ุฃูุถู ุงููููุงุช ุฃุฏุงุกู
- ุตุงูู ุงูุฑุจุญ/ุงูุฎุณุงุฑุฉ

---

## ๐ง ุงูุฅุนุฏุงุฏุงุช ุงูุฌุฏูุฏุฉ

### ูู `main_gui.py`:

```python
# ุฌุฏููุฉ ุงูุชูุงุฑูุฑ ุงูููููุฉ
self.schedule_daily_report()

# ุงูุญุตูู ุนูู ุงูุชูุฑูุฑ ูู 24 ุณุงุนุฉ
# ููุชูููุฐ ุงูููุฑู (ููุงุฎุชุจุงุฑ):
# self.root.after(1000, generate_and_schedule)
```

### ุญุฐู ุงูุชูุงุฑูุฑ ุงููุฏููุฉ:

```python
# ุงูุงูุชุฑุงุถู: ุญุฐู ุงูุชูุงุฑูุฑ ุฃูุฏู ูู 30 ููู
manager.cleanup_old_reports(days_to_keep=30)

# ููุงุญุชูุงุธ ููุฏุฉ 60 ููู:
manager.cleanup_old_reports(days_to_keep=60)
```

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### 1. ุงูุชุญูู ูู ุงูุฅุดุงุฑุงุช ุฃุตุจุญ ุตุงุฑูุงู

ุงูุขู ูุชู ุฑูุถ ุฃู ุฅุดุงุฑุฉ:
- ุจุฏูู TP
- ุจุฏูู SL
- ุจุฏูู ุณุนุฑ ุฏุฎูู
- ุจุจูุงูุงุช ุบูุฑ ููุทููุฉ

**ูุฐุง ูุนูู:** ูุฏ ุชุฑู ุฅุดุงุฑุงุช ูุฑููุถุฉ ุฃูุซุฑุ ููู ุงูุฅุดุงุฑุงุช ุงูููุจููุฉ ุณุชููู ุฃูุซุฑ ุฏูุฉ ูุฃูุงูุงู.

### 2. ุงูุฑุณุงุฆู ุบูุฑ ุงููููุฏุฉ

ุงูุฑุณุงุฆู ุงูุชุงููุฉ ุณูุชู ุชุฌุงูููุง ุชููุงุฆูุงู:
- ุฑุณุงุฆู ุงููุชุงุฆุฌ
- ุฑุณุงุฆู ุงูุชุฑููุฌ
- ุฑุณุงุฆู ุงูุชุญูููุงุช

**ูุฐุง ูุนูู:** ูุงุฌูุฉ ุฃูุธู ูุฃุณุฑุนุ ููุท ุงูุฅุดุงุฑุงุช ุงูุญููููุฉ.

### 3. ุงูุฃุฏุงุก

- ุงูุชุญุฏูุซุงุช ุงูุขู ูู threads ูููุตูุฉ
- ุงููุงุฌูุฉ ูู ุชุชุฌูุฏ
- ุงุณุชููุงู ุฃูู ููุฐุงูุฑุฉ

---

## ๐ ุฅุตูุงุญ ุงููุดุงูู ุงููุญุชููุฉ

### ุฅุฐุง ูู ุชุนูู ุงูุชูุงุฑูุฑ:

```python
# ุชุฃูุฏ ูู ูุฌูุฏ ุงููุฌูุฏ
import os
os.makedirs('data/daily_reports/signals', exist_ok=True)
os.makedirs('data/daily_reports/trades', exist_ok=True)
os.makedirs('data/daily_reports/summary', exist_ok=True)
```

### ุฅุฐุง ุฑููุถุช ุฅุดุงุฑุงุช ุตุญูุญุฉ:

ุชุญูู ูู ุงูุณุฌู (Console) ููุนุฑูุฉ ุณุจุจ ุงูุฑูุถ:
```
โ๏ธ ุชุญุฐูุฑ: ูุง ุชูุฌุฏ ูุณุชููุงุช ุฃุฎุฐ ุฑุจุญ ูุงุถุญุฉ
โ ุงูุจูุงูุงุช ุบูุฑ ููุทููุฉ - ุณูุชู ุฑูุถ ุงูุฅุดุงุฑุฉ
   ุงูุฑูุฒ: XAUUSD, ุงูุงุชุฌุงู: SELL
   ุงูุฏุฎูู: 4289.7
   TP: [100.0, 4280.0]
   SL: 4299.0
```

---

## ๐ ููุงุฑูุฉ ูุจู/ุจุนุฏ

| ุงูููุฒุฉ | ูุจู | ุจุนุฏ |
|--------|-----|-----|
| ุงุณุชุฎุฑุงุฌ TP | ููุชูุท "100" ูู "100%" | โ ูุชุฌุงูู ุงููุณุจ ุงููุฆููุฉ |
| ุงุณุชุฎุฑุงุฌ SL | ูุฎุทุฆ ูู "SL. TP ::: X" | โ regex ูุญุณูู |
| ุงูุชุญูู ูู ุงูุจูุงูุงุช | ููุจู ุฅุดุงุฑุงุช ุฎุงุทุฆุฉ | โ ุฑูุถ ุตุงุฑู |
| ุงูุชูุงุฑูุฑ | ูุง ููุฌุฏ | โ ุชูุงุฑูุฑ ุดุงููุฉ ูู 24 ุณุงุนุฉ |
| ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก | ุทุจุงุนุฉ ููุท | โ ุฅุดุนุงุฑุงุช ูููุณุชุฎุฏู |
| ุงููุงุฌูุฉ | ุชุชุฌูุฏ ุฃุญูุงูุงู | โ ุณูุณุฉ ุฏุงุฆูุงู |
| ุงูุฑุณุงุฆู ุบูุฑ ุงููููุฏุฉ | ุชุธูุฑ | โ ุชูุฑูุถ ุชููุงุฆูุงู |

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑู)

### ูููุทูุฑูู:

1. ุฅุถุงูุฉ ูุงุฌูุฉ ุนุฑุถ ููุชูุงุฑูุฑ ูู GUI
2. ุฅุถุงูุฉ ุชูุจููุงุช ุตูุชูุฉ ุนูุฏ ุงุณุชูุงู ุฅุดุงุฑุฉ
3. ุฅุถุงูุฉ ูุงุนุฏุฉ ุจูุงูุงุช SQL ุจุฏูุงู ูู JSON
4. ุฅุถุงูุฉ backtesting ููุฅุดุงุฑุงุช

### ูููุณุชุฎุฏููู:

1. ุฑุงุฌุน ุงูุชูุงุฑูุฑ ุงูููููุฉ ุจุงูุชุธุงู
2. ูุงุฑู ุฃุฏุงุก ุงููููุงุช ุงููุฎุชููุฉ
3. ุนุทูู ุงููููุงุช ุถุนููุฉ ุงูุฃุฏุงุก
4. ุฑุงูุจ ุงูุณุฌู ููุฅุดุงุฑุงุช ุงููุฑููุถุฉ

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุชุญูู ูู ุงูุณุฌู (Console)
2. ุชุญูู ูู ูููุงุช ุงูุชูุงุฑูุฑ
3. ุชุฃูุฏ ูู ุชุญุฏูุซ ุฌููุน ุงููููุงุช

---

**ุชุงุฑูุฎ ุงูุฅุตูุงุญ:** 2025-10-16
**ุงูุฅุตุฏุงุฑ:** 2.0
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุฅูุชุงุฌ
